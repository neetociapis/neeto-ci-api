servers:
  - description: NeetoCal APIs
    url: https://{workspace}.neetocal.com/api/external/v1
    variables:
      workspace:
        default: spinkart   # This is the default value
        description: Your workspace's subdomain

info:
  description: NeetoCal offers APIs to manage bookings from external channels. To use the APIs, [you will need an API key.](https://help.neetocal.com/articles/api-keys)
  title: NeetoCal APIs

tags:
  - name: Bookings
    description: APIs to create, list, reschedule, and cancel bookings.
  - name: Slots
    description: APIs to manage slots availability of a meeting link.
  - name: Availabilities
    description: APIs to manage availabilities of meeting hosts.
  - name: Meeting links
    description: APIs to create and manage meeting links.
  - name: Team Members
    description: APIs to manage team members in the workspace.
components:
  schemas:
    Pagination:
      type: object #TODO: add booking response schema
      properties:
        total_records:
          type: integer
          description: Total number of records
        total_pages:
          type: integer
          description: Total number of pages available
        current_page_number:
          type: integer
          description: Current page number
        page_size:
          type: integer
          description: Number of records per page
    Booking:
        type: object

    BookingListResponse:
      type: object
      properties:
        bookings:
          type: array
          items:
            $ref: '#/components/schemas/Booking'
        pagination:
          $ref: '#/components/schemas/Pagination'
    Meeting:
      type: object
    MeetingListResponse:
      type: object
      properties:
        meetings:
          type: array
          items:
            $ref: '#/components/schemas/Meeting'
        pagination:
          $ref: '#/components/schemas/Pagination'
paths:
  /slots/{meeting_slug}:
    get:
      summary: List all available slots
      tags:
        - Slots
      description: |
        This API allows to get a list of available slots of the host (or hosts in the case of multi-host or round-robin meetings) for a specific meeting link for a given month. These slots can later be used to book a meeting.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: meeting_slug
          description: Slug of the meeting link.
          required: true
          schema:
            type: string
            example: "meeting-with-oliver-smith"
        - in: query
          name: time_zone
          description: Time zone in which to check available slots.
          required: true
          schema:
            type: string
            example: "Asia/Kolkata"
        - in: query
          name: year
          description: Year for which to check available slots.
          required: true
          schema:
            type: string
            example: "2024"
        - in: query
          name: month
          description: Month for which to check available slots.
          required: true
          schema:
            type: string
            example: "11"
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '501':
          description: Internal server error

  /bookings:
    post:
      summary: Make a booking
      tags:
        - Bookings
      description: This API allows to book for a specific meeting link, in a particular slot.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                meeting_slug:
                  type: string
                  description: Slug of meeting link you want to book.
                  example: "meeting-with-oliver-smith"
                name:
                  type: string
                  description: Name of person making the booking.
                  example: "Eve Smith"
                email:
                  type: string
                  description: Email of person making the booking.
                  example: "eve@example.com"
                slot_date:
                  type: string
                  description: Date on which you want to book. This should be in "YYYY-MM-DD" format.
                  example: "2024-07-15"
                slot_start_time:
                  type: string
                  description: Start time for the booking. This should be in "HH:MM AM/PM" format.
                  example: "01:30 PM"
                time_zone:
                  type: string
                  description: Time zone of person making the booking.
                  example: "Asia/Kolkata"
                form_responses:
                  type: string
                  description: Responses for the questions of booking form (optional)
                  example: '{"introduction": "Hi I am Eve","languages": ["Python", "Java"],"platform": "LinkedIn"}'
              required:
                - meeting_slug
                - name
                - email
                - slot_date
                - slot_start_time
                - time_zone
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error
    get:
      summary: List all bookings
      tags:
        - Bookings
      description: This API allows to get a list of bookings in a workspace. The bookings can be filtered based on client email, host email or type of the booking.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: query
          name: host_email
          description: To get the bookings of a particular host only.
          required: false
          schema:
            type: string
        - in: query
          name: client_email
          description: To get the bookings of a particular client only.
          required: false
          schema:
            type: string
        - in: query
          name: type
          description: To get the bookings of a particular type only. The available types are upcoming, past, cancelled, and incomplete. If no value is passed it will default to all bookings.
          required: false
          schema:
            type: string
        - in: query
          name: page_number
          description: Page number. The default value is 1.
          required: false
          schema:
            type: Number
        - in: query
          name: page_size
          description: Number of bookings to receive. The default value is 30.
          required: false
          schema:
            type: Number
        - in: query
          name: sorting_order
          description: Sort bookings by booking creation date. The default value is `desc`.
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
      responses:
        '200':
          description: OK - Request succeeded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookingListResponse'
              example:
                bookings: []

                pagination:
                  total_records: 535
                  total_pages: 268
                  current_page_number: 1
                  page_size: 30
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /bookings/{booking_sid}:
    patch:
      summary: Reschedule a booking
      tags:
        - Bookings
      description: This API allows to reschedule the booking to a different slot.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: booking_sid
          description: Id of booking that you want to reschedule.
          required: true
          schema:
            type: string
            example: "hda6gxy"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of person making the booking.
                  example: "Eve Smith"
                email:
                  type: string
                  description: Email of person making the booking.
                  example: "eve@example.com"
                slot_date:
                  type: string
                  description: Date on which the booking is to be rescheduled. This should be in "YYYY-MM-DD" format.
                  example: "2024-07-25"
                slot_start_time:
                  type: string
                  description: Start time for the booking. This should be in "HH:MM AM/PM" format.
                  example: "10:30 AM"
                time_zone:
                  type: string
                  description: Time zone of person rescheduling the booking.
                  example: "Asia/Kolkata"
                form_responses:
                  type: string
                  description: Responses for the questions of booking form (optional)
                  example: '{"introduction": "Hi I am Eve","platform": "LinkedIn","languages":["Python", "Java"],}'
                reschedule_reason:
                  type: string
                  description: Reason for rescheduling the booking (optional).
                  example: "I want to change the booking time"
              required:
                - name
                - email
                - slot_date
                - slot_start_time
                - time_zone
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error
  /bookings/{booking_sid}/cancel:
    post:
      summary: Cancel a booking
      tags:
        - Bookings
      description: This API allows to cancel a booking.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: booking_sid
          description: Id of the booking that you want to cancel.
          required: true
          schema:
            type: string
            example: "hda6gxy"
        - in: query
          name: cancel_reason
          description: Reason for cancelling the booking.
          example: "I am not available"
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /availabilities/{availability_id}:
    patch:
      summary: Update an availability
      tags:
        - Availabilities
      description: This API allows to update an availability.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: availability_id
          description: Id of the availability can be retrieved by going to the particular availability page, and copying it from the URL.
          required: true
          schema:
            type: string
          example: 5ybe3cq
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                periods:
                  type: array
                  items:
                    type: object
                    properties:
                      wday:
                        type: string
                        description: The weekday (e.g., "monday", "tuesday", etc.).
                      start_time:
                        type: string
                        description: Start time in "HH:MM AM/PM" format.
                      end_time:
                        type: string
                        description: End time in "HH:MM AM/PM" format.
                  example:
                    - wday: "monday"
                      start_time: "09:00 AM"
                      end_time: "05:00 PM"
                    - wday: "tuesday"
                      start_time: "11:00 AM"
                      end_time: "04:00 PM"
              required:
                - periods
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error
    get:
      summary: Get details about an availability
      tags:
        - Availabilities
      description: This API allows to get details about an availability.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: availability_id
          description: Id of the availability can be retrieved by going to the particular availability page, and copying it from the URL.
          required: true
          schema:
            type: string
          example: 5ybe3cq
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /availabilities/team_member:
    get:
      summary: List all availabilities of a team member
      tags:
        - Availabilities
      description: This API allows to list availabilities of a team member in the workspace.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: query
          name: email
          description: Email of the team member whose availabilities should be listed.
          required: true
          schema:
            type: string
            example: "oliver@spinkart.com"
        - in: query
          name: page
          description: Page number.
          required: false
          schema:
            type: string
        - in: query
          name: page_size
          description: Number of availabilities to receive. The default value is 30.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /meetings:
    get:
      summary: List all meeting links
      tags:
        - Meeting links
      description: This API allows to get a list of meeting links in a workspace.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: query
          name: page_number
          description: Page number. The default value is 1.
          required: false
          schema:
            type: Number
        - in: query
          name: page_size
          description: Number of bookings to receive. The default value is 30.
          required: false
          schema:
            type: Number
      responses:
        '200':
          description: OK - Request succeeded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeetingListResponse'
              example:
                meetings: []

                pagination:
                  total_records: 535
                  total_pages: 268
                  current_page_number: 1
                  page_size: 30
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error
    post:
      summary: Create a meeting link
      tags:
        - Meeting links
      description: This API allows to create a meeting link.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: Slug of the new meeting link. This value should be unique.
                  example: "meeting-with-oliver-smith"
                name:
                  type: string
                  description: New name of the meeting link.
                  example: "Meeting with Oliver Smith"
                description:
                  type: string
                  description: New description of the meeting link.
                  example: "Discuss project updates"
                hosts:
                  type: array
                  items:
                    type: string
                  description: Emails of the hosts of meeting link in array format.
                  example: ["oliver@example.com", "jane@example.com"]
                kind:
                  type: string
                  description: Kind of meeting link. Available kinds are one_on_one, round_robin, and multihost. Defaults to one_on_one.
                  example: "one_on_one"
                duration:
                  type: integer
                  description: Duration of the meeting link in minutes.
                  example: 30
                start_time_increment:
                  type: integer
                  description: Start time increment for the meeting link in minutes. Defaults to 30.
                  example: 30
              required:
                - slug
                - name
                - hosts
                - duration
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /meetings/{meeting_sid}:
    patch:
      summary: Update a meeting link
      tags:
        - Meeting links
      description: This API allows to update a meeting link.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: meeting_sid
          description: Id of the meeting link you want to update.
          required: true
          schema:
            type: string
          example: vj5pgkh
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: New slug of the meeting link. This value should be unique.
                  example: "meeting-with-oliver-smith-new"
                name:
                  type: string
                  description: New name of the meeting link.
                  example: "Meeting with Oliver Smith"
                description:
                  type: string
                  description: New description of the meeting link.
                  example: "Discuss project updates"
                hosts:
                  type: array
                  items:
                    type: string
                  description: Emails of the hosts of meeting link in array format.
                  example: ["oliver@example.com", "jane@example.com"]
                kind:
                  type: string
                  description: Kind of meeting link. Available kinds are one_on_one, round_robin, and multihost. Defaults to one_on_one.
                  example: "one_on_one"
                duration:
                  type: integer
                  description: Duration of the meeting link in minutes.
                  example: 30
                start_time_increment:
                  type: integer
                  description: Start time increment for the meeting link in minutes. Defaults to 30.
                  example: 30
              required:
                - hosts
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /team_members:
    get:
      summary: List all team members
      tags:
        - Team Members
      description: This API allows to list all team members in the workspace.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error
    post:
      summary: Add team members
      tags:
        - Team Members
      description: This API allows to add team members in the workspace.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                organization_role:
                  type: string
                  description: Role that should be assigned to the new team members. It must be a valid role from the "Roles" section in the settings page. The default is "Standard".
                  example: "Standard"
                emails:
                  type: array
                  items:
                    type: string
                  description: Emails of the team members to be added in the workspace in array format. Must be valid emails.
                  example: ["oliver@example.com", "jane@example.com"]
              required:
                - emails
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /team_members/{team_member_id}:
    patch:
      summary: Update team member details
      tags:
        - Team Members
      description: This API allows to update the details of a team member in the organization.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: team_member_id
          description: Id of the team member that you want to update.
          required: true
          schema:
            type: string
            example: "13c02be6-8bd4-4dda-b9e6-07df53feb8a4"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: Email of the team member.
                  example: "oliver@spinkart.com"
                first_name:
                  type: string
                  description: First name of the team member.
                  example: "Oliver"
                last_name:
                  type: string
                  description: Last name of the team member.
                  example: "Smith"
                time_zone:
                  type: string
                  description: Time zone for the team member. It should be a valid time zone.
                  example: "Asia/Kolkata"
                organization_role:
                  type: string
                  description: Organization role for the team member. This value should be one of the organization roles of your workspace. The list of organization roles can be seen in Roles page. This value is case sensitive.
                  example: "Admin"
                active:
                  type: boolean
                  description: Whether the team member is active or not.
                  example: false
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error

  /meetings/{meeting_sid}/availability:
    post:
      summary: Update the availability for a meeting link.
      tags:
        - Availabilities
      description: This API allows to update the availability used in a meeting link. Note that if the availability is used elsewhere, that would also be updated.
      parameters:
        - in: header
          name: X-Api-Key
          description: Bearer token for API access.
          required: true
          schema:
            type: string
        - in: path
          name: meeting_sid
          description: Id of the meeting link can be retrieved by going to the particular meeting link page, and copying it from the URL.
          required: true
          schema:
            type: string
          example: a8yjkzb
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                periods:
                  type: array
                  items:
                    type: object
                    properties:
                      wday:
                        type: string
                        description: The weekday (e.g., "monday", "tuesday", etc.).
                      start_time:
                        type: string
                        description: Start time in "HH:MM AM/PM" format.
                      end_time:
                        type: string
                        description: End time in "HH:MM AM/PM" format.
                  example:
                    - wday: "monday"
                      start_time: "09:00 AM"
                      end_time: "05:00 PM"
                    - wday: "tuesday"
                      start_time: "11:00 AM"
                      end_time: "04:00 PM"
              required:
                - periods
      responses:
        '200':
          description: OK - Request succeeded
        '400':
          description: Bad Request - Missing/Invalid parameters
        '401':
          description: Unauthorized - Invalid API key
        '500':
          description: Internal server error
